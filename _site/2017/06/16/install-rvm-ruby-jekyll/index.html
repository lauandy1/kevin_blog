<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>安装jekyll (include rvm,ruby,gem)</title>
    <meta name="description" content="系统环境准备，安装gcc，安装rvm，安装ruby，安装jekyll，安装nodejs，生成blog，运行jekyll server">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
<!-- add hightlight js code
-->
<link rel="stylesheet" type="text/css" href="http://apps.bdimg.com/libs/highlight.js/8.4/styles/monokai_sublime.min.css">
<script type="text/javascript" src="http://apps.bdimg.com/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- add hightlight js code
-->
    <link rel="canonical" href="http://localhost:4000/2017/06/16/install-rvm-ruby-jekyll/">
    <link rel="alternate" type="application/rss+xml" title="迷途知返" href="http://localhost:4000 /feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?87bb1269e314ef98e631a753e995cd8b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">迷途知返</a>
        <small>尘世中一个迷途小书童</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/music/">
                        
                            <i class="fa fa-play"></i>Music
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/me/">
                        
                            <i class="fa fa-heart"></i>Me
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>安装jekyll (include rvm,ruby,gem)</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2017-06-16
            </div>

            <div class="label-card">
                <i class="fa fa-user"></i>wilmosfang
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#jekyll" title="Category: jekyll" rel="category">jekyll</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#rvm" title="Tag: rvm" rel="tag">rvm</a-->
        <a href="/tag/#rvm" title="Tag: rvm" rel="tag">rvm</a>&nbsp;
    
        <!--a href="/tag/#ruby" title="Tag: ruby" rel="tag">ruby</a-->
        <a href="/tag/#ruby" title="Tag: ruby" rel="tag">ruby</a>&nbsp;
    
        <!--a href="/tag/#jekyll" title="Tag: jekyll" rel="tag">jekyll</a-->
        <a href="/tag/#jekyll" title="Tag: jekyll" rel="tag">jekyll</a>&nbsp;
    
        <!--a href="/tag/#nodejs" title="Tag: nodejs" rel="tag">nodejs</a-->
        <a href="/tag/#nodejs" title="Tag: nodejs" rel="tag">nodejs</a>
    
  

</span>

            </div>

        </div>
        <small><strong>原文地址</strong> http://localhost:4000/2017/06/16/install-rvm-ruby-jekyll/</small>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <h2 id="前言">前言</h2>

<p>我前面有一篇文章可以<a href="/2015/03/02/build-a-githubblog-in-21minutes/">21分钟搭建一个GitHub Blog</a></p>

<p>这里我们深入到jekyll层面看看,如何在本地也生成一个blog,也就是在本地干和github上一样的事情</p>

<p>这里涉及到rvm,ruby,gem和jekyll的安装,绝对干货,因为里面已经包含了几个我踩的坑</p>

<hr />

<h1 id="概要">概要</h1>

<ul id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#概要" id="markdown-toc-概要">概要</a>    <ul>
      <li><a href="#系统环境" id="markdown-toc-系统环境">系统环境</a></li>
      <li><a href="#安装过程" id="markdown-toc-安装过程">安装过程</a>        <ul>
          <li><a href="#1安装gcc" id="markdown-toc-1安装gcc">1.安装gcc</a>            <ul>
              <li><a href="#1号坑" id="markdown-toc-1号坑">1号坑</a>                <ul>
                  <li><a href="#安装ruby" id="markdown-toc-安装ruby">安装ruby</a></li>
                  <li><a href="#安装rubygems" id="markdown-toc-安装rubygems">安装rubygems</a></li>
                  <li><a href="#安装jekyll" id="markdown-toc-安装jekyll">安装jekyll</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#2安装rvm" id="markdown-toc-2安装rvm">2.安装rvm</a></li>
          <li><a href="#3安装ruby" id="markdown-toc-3安装ruby">3.安装ruby</a></li>
          <li><a href="#4安装jekyll" id="markdown-toc-4安装jekyll">4.安装jekyll</a>            <ul>
              <li><a href="#2号坑" id="markdown-toc-2号坑">2号坑</a></li>
            </ul>
          </li>
          <li><a href="#5安装nodejs" id="markdown-toc-5安装nodejs">5.安装nodejs</a></li>
          <li><a href="#6生成blog" id="markdown-toc-6生成blog">6.生成blog</a></li>
          <li><a href="#7运行jekyll-server" id="markdown-toc-7运行jekyll-server">7.运行jekyll server</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#总结" id="markdown-toc-总结">总结</a></li>
  <li><a href="#命令汇总" id="markdown-toc-命令汇总">命令汇总</a></li>
  <li><a href="#注意" id="markdown-toc-注意">注意</a></li>
</ul>

<hr />

<h2 id="系统环境">系统环境</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# lsb_release  -a 
LSB Version:	:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch
Distributor ID:	CentOS
Description:	CentOS release 6.6 (Final)
Release:	6.6
Codename:	Final
[root@Test ~]# cat /etc/issue
CentOS release 6.6 (Final)
Kernel \r on an \m

[root@Test ~]# uname -a 
Linux Test 2.6.32-504.el6.x86_64 #1 SMP Wed Oct 15 04:27:16 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux
[root@Test ~]# 
</code></pre>
</div>

<h2 id="安装过程">安装过程</h2>

<h3 id="1安装gcc">1.安装gcc</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# yum -y install gcc
Loaded plugins: fastestmirror, refresh-packagekit, security
Setting up Install Process
Loading mirror speeds from cached hostfile
 * base: ftp.sjtu.edu.cn
 * epel: ftp.sjtu.edu.cn
 * extras: ftp.sjtu.edu.cn
 * updates: mirrors.skyshe.cn
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package gcc.x86_64 0:4.4.7-11.el6 will be installed
--&gt; Processing Dependency: cpp = 4.4.7-11.el6 for package: gcc-4.4.7-11.el6.x86_64
--&gt; Processing Dependency: cloog-ppl &gt;= 0.15 for package: gcc-4.4.7-11.el6.x86_64
--&gt; Running transaction check
---&gt; Package cloog-ppl.x86_64 0:0.15.7-1.2.el6 will be installed
--&gt; Processing Dependency: libppl_c.so.2()(64bit) for package: cloog-ppl-0.15.7-1.2.el6.x86_64
--&gt; Processing Dependency: libppl.so.7()(64bit) for package: cloog-ppl-0.15.7-1.2.el6.x86_64
---&gt; Package cpp.x86_64 0:4.4.7-11.el6 will be installed
--&gt; Processing Dependency: libmpfr.so.1()(64bit) for package: cpp-4.4.7-11.el6.x86_64
--&gt; Running transaction check
---&gt; Package mpfr.x86_64 0:2.4.1-6.el6 will be installed
---&gt; Package ppl.x86_64 0:0.10.2-11.el6 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

==========================================================================================================
 Package                  Arch                  Version                         Repository           Size
==========================================================================================================
Installing:
 gcc                      x86_64                4.4.7-11.el6                    base                 10 M
Installing for dependencies:
 cloog-ppl                x86_64                0.15.7-1.2.el6                  base                 93 k
 cpp                      x86_64                4.4.7-11.el6                    base                3.7 M
 mpfr                     x86_64                2.4.1-6.el6                     base                157 k
 ppl                      x86_64                0.10.2-11.el6                   base                1.3 M

Transaction Summary
==========================================================================================================
Install       5 Package(s)
...
...
  Verifying  : ppl-0.10.2-11.el6.x86_64                                                               1/5 

  Verifying  : cpp-4.4.7-11.el6.x86_64                                                                2/5 

  Verifying  : gcc-4.4.7-11.el6.x86_64                                                                3/5 

  Verifying  : cloog-ppl-0.15.7-1.2.el6.x86_64                                                        4/5 

  Verifying  : mpfr-2.4.1-6.el6.x86_64                                                                5/5 

Installed:
  gcc.x86_64 0:4.4.7-11.el6                                                                               

Dependency Installed:
  cloog-ppl.x86_64 0:0.15.7-1.2.el6       cpp.x86_64 0:4.4.7-11.el6       mpfr.x86_64 0:2.4.1-6.el6      
  ppl.x86_64 0:0.10.2-11.el6             

Complete!
[root@Test ~]# 

</code></pre>
</div>

<h4 id="1号坑">1号坑</h4>

<h5 id="安装ruby">安装ruby</h5>

<p>(用于展示坑的大小,不要跟着操作,因为这是白操作)</p>

<p>系统默认安装好了ruby</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# yum list ruby
Loaded plugins: fastestmirror, refresh-packagekit, security
Loading mirror speeds from cached hostfile
 * base: ftp.sjtu.edu.cn
 * epel: ftp.sjtu.edu.cn
 * extras: ftp.sjtu.edu.cn
 * updates: mirrors.skyshe.cn
Installed Packages
ruby.x86_64                                   1.8.7.374-4.el6_6                                   @updates
[root@Test ~]# ruby -v 
ruby 1.8.7 (2013-06-27 patchlevel 374) [x86_64-linux]
[root@Test ~]#
</code></pre>
</div>

<h5 id="安装rubygems">安装rubygems</h5>

<p>其中的这些包都是根据错误提示一个个加上去的，这个过程就略过了，至于为什么要安装gem呢，是网上的很多声称实践过的先驱们探索出来的,方便用来安装jekyll用的</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# yum -y install rubygems ruby-devel rubygems-devel
</code></pre>
</div>

<h5 id="安装jekyll">安装jekyll</h5>

<p>(坑来了，坑来了)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# gem install jekyll  
ERROR:  Error installing jekyll:
	redcarpet requires Ruby version &gt;= 1.9.2.
[root@Test ~]# ruby  -v 
ruby 1.8.7 (2013-06-27 patchlevel 374) [x86_64-linux]
[root@Test ~]#
</code></pre>
</div>

<p>按说也就是一个版本问题，升级不得了呗，结果这个系统最高的也就是1.8.7，于是从官网下载源码2.2.1和1.9.3进行尝试，卸载掉ruby，用源码安装成功</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# ruby  -v 
ruby 1.9.3p545 (2014-02-24 revision 45159) [x86_64-linux]
[root@Test ~]# 
</code></pre>
</div>

<p>可这个不是问题的关键，关键是由于此系统中的gem依赖1.8.7，结果一安装又把ruby覆盖掉了回到了1.8.7,解决办法是源码编译高版本的gem…当然也不知道到时候又有什么别的依赖….太浪费时间了</p>

<p>干脆放弃了这个方法</p>

<h3 id="2安装rvm">2.安装rvm</h3>

<p>有了rvm，妈妈再也不担心我的ruby版本了</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# curl -L get.rvm.io | bash -s stable 
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
184   184  184   184    0     0    323      0 --:--:-- --:--:-- --:--:--   654
184   184  184   184    0     0    323      0 --:--:-- --:--:-- --:--:--   652
  0   184    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0
100 22817  100 22817    0     0  10969      0  0:00:02  0:00:02 --:--:-- 52452
Downloading https://github.com/wayneeseguin/rvm/archive/1.26.10.tar.gz
Downloading https://github.com/wayneeseguin/rvm/releases/download/1.26.10/1.26.10.tar.gz.asc
gpg: Signature made Tue 03 Feb 2015 12:09:00 AM CST using RSA key ID BF04FF17
gpg: Can't check signature: No public key
Warning, RVM 1.26.0 introduces signed releases and automated check of signatures when GPG software found.
Assuming you trust Michal Papis import the mpapis public key (downloading the signatures).

GPG signature verification failed for '/usr/local/rvm/archives/rvm-1.26.10.tgz' - 'https://github.com/wayneeseguin/rvm/releases/download/1.26.10/1.26.10.tar.gz.asc'!
try downloading the signatures:

    gpg2 --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3

or if it fails:

    command curl -sSL https://rvm.io/mpapis.asc | gpg2 --import -

the key can be compared with:

    https://rvm.io/mpapis.asc
    https://keybase.io/mpapis

[root@Test ~]# echo $?
2
[root@Test ~]#
</code></pre>
</div>

<p>GPG signature verification failed</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# gpg2 --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39 
DC0E3
gpg: keyring `/root/.gnupg/secring.gpg' created
gpg: requesting key D39DC0E3 from hkp server keys.gnupg.net
gpg: /root/.gnupg/trustdb.gpg: trustdb created
gpg: key D39DC0E3: public key "Michal Papis (RVM signing) &lt;mpapis@gmail.com&gt;" imported
gpg: no ultimately trusted keys found
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)
[root@Test ~]# echo $?
0
[root@Test ~]#
</code></pre>
</div>

<p>再次rvm安装就成功了</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# curl -L get.rvm.io | bash -s stable 
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
184   184  184   184    0     0    307      0 --:--:-- --:--:-- --:--:--   613
184   184  184   184    0     0    307      0 --:--:-- --:--:-- --:--:--   613
  0   184    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0
100 22817  100 22817    0     0  11904      0  0:00:01  0:00:01 --:--:-- 68519
Downloading https://github.com/wayneeseguin/rvm/archive/1.26.10.tar.gz
Downloading https://github.com/wayneeseguin/rvm/releases/download/1.26.10/1.26.10.tar.gz.asc
gpg: Signature made Tue 03 Feb 2015 12:09:00 AM CST using RSA key ID BF04FF17
gpg: Good signature from "Michal Papis (RVM signing) &lt;mpapis@gmail.com&gt;"
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 409B 6B17 96C2 7546 2A17  0311 3804 BB82 D39D C0E3
     Subkey fingerprint: 62C9 E5F4 DA30 0D94 AC36  166B E206 C29F BF04 FF17
GPG verified '/usr/local/rvm/archives/rvm-1.26.10.tgz'

Upgrading the RVM installation in /usr/local/rvm/
Upgrade of RVM in /usr/local/rvm/ is complete.

# Administrator,
#
#   Thank you for using RVM!
#   We sincerely hope that RVM helps to make your life easier and more enjoyable!!!
#
# ~Wayne, Michal &amp; team.

In case of problems: http://rvm.io/help and https://twitter.com/rvm_io

Upgrade Notes:

  * No new notes to display.

[root@Test ~]# echo $?
0
[root@Test ~]#
</code></pre>
</div>

<p>切换一下环境，就可以看到rvm命令了</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# su - 
[root@Test ~]# rvm -v 
rvm 1.26.10 (latest) by Wayne E. Seguin &lt;wayneeseguin@gmail.com&gt;, Michal Papis &lt;mpapis@gmail.com&gt; [https://rvm.io/]
[root@Test ~]#
</code></pre>
</div>

<h3 id="3安装ruby">3.安装ruby</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# rvm install 2.2.1
Searching for binary rubies, this might take some time.
Found remote file https://rvm_io.global.ssl.fastly.net/binaries/centos/6/x86_64/ruby-2.2.1.tar.bz2
Checking requirements for centos.
Installing requirements for centos.
Installing required packages: libyaml-devel, autoconf, gcc-c++, readline-devel, zlib-devel, libffi-devel, openssl-devel, automake, libtool, bison, sqlite-devel................
Requirements installation successful.
...
...
No checksum for downloaded archive, recording checksum in user configuration.
ruby-2.2.1 - #validate archive
ruby-2.2.1 - #extract
ruby-2.2.1 - #validate binary
ruby-2.2.1 - #setup
ruby-2.2.1 - #gemset created /usr/local/rvm/gems/ruby-2.2.1@global
ruby-2.2.1 - #importing gemset /usr/local/rvm/gemsets/global.gems....................................
ruby-2.2.1 - #generating global wrappers........
ruby-2.2.1 - #gemset created /usr/local/rvm/gems/ruby-2.2.1
ruby-2.2.1 - #importing gemsetfile /usr/local/rvm/gemsets/default.gems evaluated to empty gem list
ruby-2.2.1 - #generating default wrappers........
[root@Test ~]# ruby -v 
ruby 2.2.1p85 (2015-02-26 revision 49769) [x86_64-linux]
[root@Test ~]#

</code></pre>
</div>

<blockquote>
  <p>有点慢, 整个过程花费了6分钟左右</p>
</blockquote>

<p>安装好ruby，gem也跟着安装上去了</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# gem -v 
2.4.6
[root@Test ~]#
</code></pre>
</div>

<h3 id="4安装jekyll">4.安装jekyll</h3>

<h4 id="2号坑">2号坑</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# gem install jekyll
^CERROR:  Interrupted
[root@Test ~]# 
</code></pre>
</div>

<p>为什么我会去中断，原因是等太久了，具体多少时间没统计，反正超出了我的忍耐</p>

<p>原因是我使用的安装源太远</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# gem sources -l 
*** CURRENT SOURCES ***

https://rubygems.org/
[root@Test ~]#
</code></pre>
</div>

<p>IP Address : 54.186.104.15 - 1 other site is hosted on this server</p>

<p>IP Location : Oregon - Portland - Amazon.com Inc.</p>

<p>解决办法是替换安装源地址</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]# gem sources -a https://ruby.taobao.org/
https://ruby.taobao.org/ added to sources
[root@Test ~]# gem sources -l 
*** CURRENT SOURCES ***

https://rubygems.org/
https://ruby.taobao.org/
[root@Test ~]# gem sources --remove https://rubygems.org/
https://rubygems.org/ removed from sources
[root@Test ~]# gem sources -l 
*** CURRENT SOURCES ***

https://ruby.taobao.org/
[root@Test ~]# 
</code></pre>
</div>

<p>再次安装jekyll,这回我使用time统计了一下共花费了2分半钟左右</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test ~]#  time gem install jekyll
Fetching: liquid-2.6.2.gem
Fetching: liquid-2.6.2.gem ( 35%)
Fetching: liquid-2.6.2.gem ( 70%)
Fetching: liquid-2.6.2.gem (100%)
Fetching: liquid-2.6.2.gem (100%)
Successfully installed liquid-2.6.2
...
...
Parsing documentation for jekyll-2.5.3
Installing ri documentation for jekyll-2.5.3
Done installing documentation for liquid, kramdown, mercenary, safe_yaml, colorator, yajl-ruby, posix-spawn, pygments.rb, redcarpet, blankslate, parslet, toml, jekyll-paginate, jekyll-gist, coffee-script-source, execjs, coffee-script, jekyll-coffeescript, sass, jekyll-sass-converter, hitimes, timers, celluloid, rb-fsevent, ffi, rb-inotify, listen, jekyll-watch, fast-stemmer, classifier-reborn, jekyll after 27 seconds
31 gems installed

real	2m21.194s
user	0m46.456s
sys	0m2.128s
[root@Test ~]# echo $?
0
[root@Test ~]#
</code></pre>
</div>

<h3 id="5安装nodejs">5.安装nodejs</h3>

<p>为什么要安装nodejs呢，因为jekyll要依赖它，不安装会报错，下面是我没安装，常试直接运行的结果</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test tmp]# jekyll  new myblog
/usr/local/rvm/gems/ruby-2.2.1/gems/execjs-2.4.0/lib/execjs/runtimes.rb:45:in `autodetect': Could not find a JavaScript runtime. See https://github.com/sstephenson/execjs for a list of available runtimes. (ExecJS::RuntimeUnavailable)
	from /usr/local/rvm/gems/ruby-2.2.1/gems/execjs-2.4.0/lib/execjs.rb:5:in `&lt;module:ExecJS&gt;'
	from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'
	from /usr/local/rvm/gems/ruby-2.2.1/gems/jekyll-2.5.3/bin/jekyll:6:in `&lt;top (required)&gt;'
...
...
	from /usr/local/rvm/gems/ruby-2.2.1/bin/jekyll:23:in `load'
	from /usr/local/rvm/gems/ruby-2.2.1/bin/jekyll:23:in `&lt;main&gt;'
	from /usr/local/rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
	from /usr/local/rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `&lt;main&gt;'
[root@Test tmp]#  
</code></pre>
</div>

<p>安装nodejs</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test tmp]#  yum -y install nodejs 
Loaded plugins: fastestmirror, refresh-packagekit, security
Setting up Install Process
Loading mirror speeds from cached hostfile
 * base: mirrors.skyshe.cn
 * epel: mirrors.zju.edu.cn
 * extras: mirrors.zju.edu.cn
 * updates: mirrors.zju.edu.cn
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package nodejs.x86_64 0:0.10.33-1.el6 will be installed
--&gt; Processing Dependency: v8(x86-64) &lt; 1:3.15 for package: nodejs-0.10.33-1.el6.x86_64
--&gt; Processing Dependency: v8(x86-64) &gt;= 1:3.14.5.7 for package: nodejs-0.10.33-1.el6.x86_64
--&gt; Processing Dependency: libv8.so.3()(64bit) for package: nodejs-0.10.33-1.el6.x86_64
--&gt; Processing Dependency: libuv.so.0.10()(64bit) for package: nodejs-0.10.33-1.el6.x86_64
--&gt; Processing Dependency: libhttp_parser.so.2()(64bit) for package: nodejs-0.10.33-1.el6.x86_64
--&gt; Processing Dependency: libcares19.so.2()(64bit) for package: nodejs-0.10.33-1.el6.x86_64
--&gt; Running transaction check
---&gt; Package c-ares19.x86_64 0:1.9.1-5.el6.3 will be installed
---&gt; Package http-parser.x86_64 0:2.0-4.20121128gitcd01361.el6 will be installed
---&gt; Package libuv.x86_64 1:0.10.29-1.el6 will be installed
---&gt; Package v8.x86_64 1:3.14.5.10-14.el6 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

==========================================================================================================
 Package                Arch              Version                                   Repository       Size
==========================================================================================================
Installing:
 nodejs                 x86_64            0.10.33-1.el6                             epel            500 k
Installing for dependencies:
 c-ares19               x86_64            1.9.1-5.el6.3                             epel             73 k
 http-parser            x86_64            2.0-4.20121128gitcd01361.el6              epel             22 k
 libuv                  x86_64            1:0.10.29-1.el6                           epel             56 k
 v8                     x86_64            1:3.14.5.10-14.el6                        epel            3.0 M

Transaction Summary
==========================================================================================================
Install       5 Package(s)

Total download size: 3.7 M
Installed size: 12 M
...
...
  Verifying  : http-parser-2.0-4.20121128gitcd01361.el6.x86_64                                        1/5 

  Verifying  : 1:v8-3.14.5.10-14.el6.x86_64                                                           2/5 

  Verifying  : 1:libuv-0.10.29-1.el6.x86_64                                                           3/5 

  Verifying  : c-ares19-1.9.1-5.el6.3.x86_64                                                          4/5 

  Verifying  : nodejs-0.10.33-1.el6.x86_64                                                            5/5 

Installed:
  nodejs.x86_64 0:0.10.33-1.el6                                                                           

Dependency Installed:
  c-ares19.x86_64 0:1.9.1-5.el6.3            http-parser.x86_64 0:2.0-4.20121128gitcd01361.el6           
  libuv.x86_64 1:0.10.29-1.el6               v8.x86_64 1:3.14.5.10-14.el6                                

Complete!
[root@Test tmp]#

</code></pre>
</div>

<h3 id="6生成blog">6.生成blog</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test tmp]# jekyll  new myblog
New jekyll site installed in /root/tmp/myblog. 
[root@Test tmp]# 
</code></pre>
</div>

<h3 id="7运行jekyll-server">7.运行jekyll server</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>[root@Test tmp]# cd myblog/
[root@Test myblog]# jekyll  server
Configuration file: /root/tmp/myblog/_config.yml
            Source: /root/tmp/myblog
       Destination: /root/tmp/myblog/_site
      Generating... 
                    done.
 Auto-regeneration: enabled for '/root/tmp/myblog'
Configuration file: /root/tmp/myblog/_config.yml
    Server address: http://127.0.0.1:4000/
  Server running... press ctrl-c to stop.
</code></pre>
</div>

<p>于是使用firefox打开 http://127.0.0.1:4000/ 就会显现</p>

<p><img src="https://raw.githubusercontent.com/wilmosfang/blog/gh-pages/images/install_jekyll/jekyll_install.png" alt="jekyll_init_page" /></p>

<p>下面这个是将我的blog clone到本地后的运行效果</p>

<p><img src="https://raw.githubusercontent.com/wilmosfang/blog/gh-pages/images/install_jekyll/myblog_local_page.png" alt="jekyll_init_page" /></p>

<p>感觉棒棒哒！！</p>

<hr />

<h1 id="总结">总结</h1>

<ul>
  <li>1.安装gcc</li>
  <li>2.安装rvm</li>
  <li>3.安装ruby</li>
  <li>4.安装jekyll</li>
  <li>5.安装nodejs</li>
  <li>6.生成blog</li>
  <li>7.运行jekyll server</li>
</ul>

<hr />

<h1 id="命令汇总">命令汇总</h1>

<ul>
  <li><strong><code class="highlighter-rouge">lsb_release  -a</code></strong></li>
  <li><strong><code class="highlighter-rouge">cat /etc/issue</code></strong></li>
  <li><strong><code class="highlighter-rouge">uname -a</code></strong></li>
  <li><strong><code class="highlighter-rouge">yum -y install gcc</code></strong></li>
  <li><strong><code class="highlighter-rouge">ruby -v</code></strong></li>
  <li><strong><code class="highlighter-rouge">yum -y install rubygems ruby-devel rubygems-devel</code></strong></li>
  <li><strong><code class="highlighter-rouge">gem install jekyll</code></strong></li>
  <li><strong><code class="highlighter-rouge">gpg2 --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39</code></strong></li>
  <li><strong><code class="highlighter-rouge">curl -L get.rvm.io | bash -s stable</code></strong></li>
  <li><strong><code class="highlighter-rouge">rvm -v</code></strong></li>
  <li><strong><code class="highlighter-rouge">rvm install 2.2.1</code></strong></li>
  <li><strong><code class="highlighter-rouge">ruby -v</code></strong></li>
  <li><strong><code class="highlighter-rouge">gem -v</code></strong></li>
  <li><strong><code class="highlighter-rouge">gem install jekyll</code></strong></li>
  <li><strong><code class="highlighter-rouge">gem sources -a https://ruby.taobao.org/</code></strong></li>
  <li><strong><code class="highlighter-rouge">gem sources --remove https://rubygems.org/</code></strong></li>
  <li><strong><code class="highlighter-rouge">gem sources -l</code></strong></li>
  <li><strong><code class="highlighter-rouge">time gem install jekyll</code></strong></li>
  <li><strong><code class="highlighter-rouge">yum -y install nodejs</code></strong></li>
  <li><strong><code class="highlighter-rouge">jekyll  new myblog</code></strong></li>
  <li><strong><code class="highlighter-rouge">jekyll  server</code></strong></li>
</ul>

<hr />

<h1 id="注意">注意</h1>

<ul>
  <li>1.尽量使用rvm,这是一款ruby神器</li>
  <li>2.使用合适的安装源,别让自己的青春虚度</li>
</ul>


        </article>
        <small><strong>原文地址</strong> http://localhost:4000/2017/06/16/install-rvm-ruby-jekyll/</small
        <hr>
        
        
            
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                        
                        <h2 id="similar_posts">类似博客</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="http://localhost:4000/2017/06/16/build-a-githubblog-in-21minutes/">21分钟搭建一个GitHub Blog
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
            
        
        
            </ul>
        


        <h2 id="comments">评论</h2>
        
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="http://localhost:4000/2017/06/16/install-rvm-ruby-jekyll/" data-title="安装jekyll (include rvm,ruby,gem)" data-url="http://localhost:4000/2017/06/16/install-rvm-ruby-jekyll/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    var duoshuoQuery = {
        short_name: "lauandy"
    };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->



<div id="disqus_thread"></div>
<script>
    /**
     * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function() {
        this.page.url = 'http://localhost:4000/2017/06/16/install-rvm-ruby-jekyll/'; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://localhost:4000/2017/06/16/install-rvm-ruby-jekyll/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement('script');

        s.src = '//lauandy.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>




    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#similar_posts">类似博客</a></li>
                    <li><a href="#comments">评论</a></li>
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

       <!-- <p class="description">
             小人本住在 京城的城外 家中有屋又有田 生活乐无边 
        </p> -->
        <p class="contact">
            
            <a href="mailto:yzc8759@sina.com"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            <a href="https://github.com/lauandy1"><i class="fa fa-github" aria-hidden="true"></i></a>    
            <span class="point"> . </span> 
             <span class="description">
                 小人本住在 京城的城外 家中有屋又有田 生活乐无边 
            </span>
        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次 
            <span class="point"> . </span> 
            <span>
                谢谢 <a href="https://github.com/Gaohaoyang">HyG</a> 提供的主题
            </span>
        </p>
       <!-- <p class="power">
            <span>
                谢谢 HyG 提供的主题
            </span>
        </p> -->
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
